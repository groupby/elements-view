/* Edit the variable below to adjust the number of tiles seen on larger desktop screens (range of 2-6 recommended) */
$number-of-tiles-to-show: 6;

$num-of-tiles-desktop: $number-of-tiles-to-show + 2;
$num-of-tiles-mobile: $number-of-tiles-to-show + 1;

:root {
  /* Adjust the variables below to quickly align the gbe components with your brand styles */

  /***** GBE-SEARCH-BOX *****/
  --gbe-fill-parent-container-width: 100%;
  --gbe-search-box-width: var(--gbe-fill-parent-container-width, 600px);
  --gbe-search-box-max-width: 1200px;
  --gbe-sayt-height-and-button-height: 60px;
  --gbe-search-box-input-and-sayt-width: calc(var(--gbe-search-box-width) - calc(var(--gbe-sayt-height-and-button-height) * 2) - 1px);
  --gbe-search-box-input-and-sayt-max-width: calc(var(--gbe-search-box-max-width) - calc(var(--gbe-sayt-height-and-button-height) * 2) - 1px);
  --gbe-search-box-input-focus-box-shadow: 0px 0px 3px 0px var(--background-color-buttons-unhovered);
  --gbe-search-box-clear-button-icon: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='23px' height='30px' viewBox='0 0 60 60'><style>.a{fill:white;}</style><path class='a' d='M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88   c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242   C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879   s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z'/></svg>");
  --gbe-search-box-submit-button-icon: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='52px' height='52px' viewBox='0 0 60 60'><style>.a{fill:white;}</style><path class='a' d='M21.812,19.555H20.623l-.421-.406A9.8,9.8,0,1,0,19.148,20.2l.406.421v1.189l7.525,7.51,2.242-2.242Zm-9.03,0a6.772,6.772,0,1,1,6.772-6.772A6.763,6.763,0,0,1,12.782,19.555Z' transform='translate(-3 -3)'/></svg>");
  /* Uncomment the line below to show button text ('clear' and 'search') instead of button icons */
  // --show-button-text: 0.9rem;

  /***** GBE-SAYT *****/
  /* Sayt Autocomplete */
  --gbe-autocomplete-terms-min-width: 150px;
  --gbe-autocomplete-terms-flex-width: 1;
  --gbe-autocomplete-terms-hover-background: #F3F3F3;

  /* Sayt Products */
  --products-sayt-flex-width: $number-of-tiles-to-show;
  --gbe-sayt-height: 100%;
  --gbe-products-sayt-border-radius: var(--gbe-products-sayt-border-radius);
  --gbe-products-sayt-container-box-shadow: 0px 0px 3px 0px rgba(0,0,0,0.1);

  /* Sayt Product */
  --product-flex-width: 1;
  --product-sayt-min-width: 150px;
  --gbe-product-sayt-height: 400px;
  --gbe-product-img-border-bottom: var(--border-secondary);
  --gbe-product-description-default-link-color: var(--font-color-primary);
  --gbe-product-description-hover-link-color: #5244EF;
  --gbe-product-description-active-link-color: #4C76BF;
  --gbe-product-description-focus-link-color: #659FF7;
  --gbe-product-description-visited-link-color: #660099;
  --gbe-product-description-active-hover-text-decoration: underline;
  --gbe-product-description-font-size: var(--font-size-primary);
  --gbe-product-price-font-size: var(--font-size-secondary);
  --gbe-product-image-max-width: 110px;
  --gbe-product-image-height: 130px;
  --gbe-product-description-line-clamp: 4;

  /***** Font Family Variables *****/
  --font-family-text: 'Lato', sans-serif;

  /***** Border Variables *****/
  --border-primary: 1px solid var(--background-color-buttons-unhovered);
  --border-secondary: 1px solid rgba(195,195,195,0.3);

  /***** Background Color Variables *****/
  --background-color-buttons-unhovered: #DFDEDE;
  --background-color-buttons-hovered: #D3D3D3;
  --background-color-white: #FFF;
  --background-color-body: #EEE;

  /***** Font Color Variables *****/
  --font-color-primary: #7B8088;
  --font-color-secondary: #BA3B46;
  --font-color-tertiary: #FFF;

  /***** Font Size Variables *****/
  --font-size-primary: 0.9rem;
  --font-size-secondary: 1.5rem;

  /***** Speed Variable *****/
  --transition-speed: 0.1s;

  /***** Cursor Variable *****/
  --cursor-type-pointer: pointer;
}

body {
  background: var(--background-color-body);
  padding: 30px;
}

 /* SEARCH BOX STYLES */
  gbe-search-box {
    font-family: var(--font-family-text);
    height: var(--gbe-sayt-height-and-button-height);
    max-width: var(--gbe-search-box-max-width);
    width: var(--gbe-search-box-width);

    button {
      background-color: var(--background-color-buttons-unhovered);
      border: none;
      color: var(--font-color-tertiary);
      font-size: var(--show-button-text, 0);
      min-height: var(--gbe-sayt-height-and-button-height);
      min-width: var(--gbe-sayt-height-and-button-height);
      text-align: center;

      &:hover {
        background-color: var(--background-color-buttons-hovered);
        cursor: var(--cursor-type-pointer);
        transition: all var(--transition-speed);
      }
    }

    button.gbe-submit {
      background-image: var(--show-button-text, var(--gbe-search-box-submit-button-icon));
      background-position-x: 18px;
      background-position-y: 20px;
      background-repeat: no-repeat;
      border-left: 1px solid rgba(255,255,255, 0.3);
    }

    button.gbe-clear {
      background-image: var(--show-button-text, var(--gbe-search-box-clear-button-icon));
      background-position-x: 20.75px;
      background-position-y: 17.5px;
      background-repeat: no-repeat;
    }

    input {
      border: none;
      border-bottom: var(--border-primary);
      border-left: var(--border-primary);
      border-top: var(--border-primary);
      caret-color: var(--font-color-primary);
      color: var(--font-color-primary);
      font-size: var(--font-size-primary);
      padding: 0 12px;
      width: var(--gbe-search-box-input-and-sayt-width, 400px);

      &:focus {
        box-shadow: 0px 0px 3px 0px var(--background-color-buttons-unhovered);
        outline: none;
        outline-color: var(--border-primary);
      }

      &::placeholder {
        color: var(--background-color-buttons-hovered);
        font-size: var(--font-size-primary);
        text-transform: capitalize;
      }
    }
  }
  /* SEARCH BOX STYLES ENDS */

  /* SAYT STYLES */
  gbe-sayt {
    background: var(--background-color-white);
    border-bottom: var(--border-primary);
    border-bottom-left-radius: var(--gbe-products-sayt-border-radius);
    border-bottom-right-radius: var(--gbe-products-sayt-border-radius);
    border-left: var(--border-primary);
    border-right: var(--border-primary);
    border-top: var(--border-primary);
    font-family: var(--font-family-text);
    height: var(--gbe-sayt-height);
    margin-top: -1px;
    max-width: var(--gbe-search-box-input-and-sayt-max-width);
    overflow: hidden;
    padding: 0;
    width: var(--gbe-search-box-input-and-sayt-width, 400px);

    gbe-autocomplete {
      background: var(--background-color-white);
      border-right: var(--border-primary);
      color: var(--font-color-primary);
      flex: var(--gbe-autocomplete-terms-flex-width);
      min-width: var(--gbe-autocomplete-terms-min-width);

      [aria-selected="true"] {
        background-color: var(--gbe-autocomplete-terms-hover-background);
      }

      ul {
        list-style: none;
        margin: 0;
        padding: 0;
        text-indent: 10px;

        li {
          font-size: var(--font-size-primary);
          margin-right: 0px;
          overflow: hidden;
          padding: 17px 30px 17px 0;
          text-overflow: ellipsis;
          white-space: nowrap;

          &:hover {
            cursor: var(--cursor-type-pointer);
          }
        }
      }
    }

    gbe-products-sayt {
      box-shadow: var(--gbe-products-sayt-container-box-shadow);
      color: var(--font-color-primary);
      flex: var(--products-sayt-flex-width);
      height: var(--gbe-product-sayt-height);
      line-height: 1.5;
      margin: 20px;
      overflow: hidden;
      -ms-overflow-style: none;

      &::-webkit-scrollbar {
        display: none;
      }

      .gbe-product-tile-wrapper {
        background-color: var(--background-color-white);
        flex: var(--product-flex-width);
        min-width: var(--product-sayt-min-width);

        gbe-product {
          border-right: var(--border-secondary);
          height: var(--gbe-product-sayt-height);
          position: relative;

          .gbe-product-variants {
            display: none;
          }

          a {
           text-decoration: none;
          }

          a:visited {
            h3 {
              color: var(--gbe-product-description-visited-link-color);
            }
          }

          img {
            border-bottom: var(--gbe-product-img-border-bottom);
            display: block;
            height: var(--gbe-product-image-height);
            margin: 0 auto;
            max-width: var(--gbe-product-image-max-width);
            padding: 20px 0;
            width: 100%;
          }

          h3 {
            box-sizing: border-box;
            color: var(--gbe-product-description-default-link-color);
            display: -webkit-box;
            font-family: var(--font-family-text);
            font-size: var(--font-size-primary);
            line-height: 1.5;
            margin: 15px 15px 7px 15px;
            overflow: hidden;
            -webkit-line-clamp: var(--gbe-product-description-line-clamp);
            -webkit-box-orient: vertical;
          }

          &:hover {
            cursor: var(--cursor-type-pointer);

            h3 {
              color: var(--gbe-product-description-hover-link-color);
              text-decoration: var(--gbe-product-description-active-hover-text-decoration);
            }
          }

          &:active {
            h3 {
              color: var(--gbe-product-description-active-link-color);
              text-decoration: var(--gbe-product-description-active-hover-text-decoration);
            }
          }

          &:focus {
            h3 {
              color: var(--gbe-product-description-focus-link-color);
            }
          }

          .gbe-price {
            color: var(--font-color-secondary);
            font-size: var(--gbe-product-price-font-size);
            margin: 0;
            padding: 0 0 10px 25px;
          }
        }
      }

      .gbe-product-tile-wrapper:nth-child(2) {
        border-bottom-left-radius: var(--gbe-products-sayt-border-radius);
        border-top-left-radius: var(--gbe-products-sayt-border-radius);
      }

      .gbe-product-tile-wrapper:nth-child(3) {
        border-left: none;
        border-right: none;
      }

      .gbe-product-tile-wrapper:nth-child(4) {
        border-bottom-right-radius: var(--gbe-products-sayt-border-radius);
        border-top-right-radius: var(--gbe-products-sayt-border-radius);
      }

      .gbe-product-tile-wrapper:nth-child(n + #{$num-of-tiles-desktop}) {
        display: none;
      }
    }
  }
  /* SAYT STYLES ENDS*/

  /* PRODUCT GRID BASIC STYLES */
   gbe-products {
     display: flex;
     flex-wrap: wrap;
     justify-content: center;
     margin: 0 auto;
     padding-top: 40px;
     width: 85%;

     gbe-product {
       background: var(--background-color-white);
       border: var(--border-secondary);
       height: var(--products-sayt-height);
       margin: 20px 10px;
       padding: 20px;
       width: 200px;

       img {
         border-bottom: var(--gbe-product-img-border-bottom);
         display: block;
         height: var(--gbe-product-image-height);
         margin: 0 auto;
         padding: 20px 0;
         width: 100%;
         max-width: var(--gbe-product-image-max-width);
       }

       a {
         text-decoration: none;
       }

       h3 {
         box-sizing: border-box;
         color: var(--font-color-primary);
         display: -webkit-box;
         font-family: var(--font-family-text);
         font-size: var(--font-size-primary);
         font-weight: 600;
         line-height: 1.5;
         margin: 15px 15px 7px 15px;
         overflow: hidden;
         -webkit-line-clamp: 4;
         -webkit-box-orient: vertical;
       }

       .gbe-price {
         color: var(--font-color-tertiary);
         font-family: var(--font-family-text);
         font-size: var(--gbe-product-price-font-size);
         padding: 0px 0px 10px 15px;
         margin: 0px;
       }
     }
   }

  @media (max-width: 321px) {
    .gbe-sayt-container gbe-products-sayt {
      display: none;
    }
  }

  @media (max-width: 380px) {
    :root {
    --gbe-autocomplete-terms-min-width: 120px;
    }
   }

   @media (max-width: 529px) {
     .gbe-sayt-container gbe-products-sayt {
       border: none;
       box-shadow: none;
       margin: 0;
       overflow-y: scroll;
     }

     .gbe-sayt-container gbe-product {
       border-bottom: var(--border-secondary);
       border-left: var(--border-secondary);
       border-top: var(--border-secondary);
     }

     .gbe-sayt-container gbe-products-sayt .gbe-product-tile-wrapper:nth-child(n) {
       margin: 20px 20px 0px 20px;
     }
   }

  @media (max-width: 769px) {
    :root {
      --gbe-search-box-input-and-sayt-width: none;
      --products-sayt-height: 500px;
    }

    body {
      padding: 0px;
      margin: 0px;
    }

    .gbe-sayt-container gbe-products-sayt .gbe-product-tile-wrapper:nth-child(n + #{$num-of-tiles-mobile}) {
      display: none;
    }

    gbe-autocomplete li {
      margin-right: 0px;
    }

    gbe-autocomplete li:hover {
      margin-right: 0px;
    }
  }
